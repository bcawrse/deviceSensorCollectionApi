@model DeviceSensorWeb.Models.Device

@{
    ViewData["Title"] = "Details";
}

<div id="deviceDetailsVue">

    <h1>Device Details</h1>{{ message }}

    <div class="field">
        <span class="field__label">Serial Number</span>
        <span class="field__value">@Model.SerialNumber</span>
    </div>
    <div class="field">
        <span class="field__label">Registered Date</span>
        <span class="field__value">@Model.RegistrationDate</span>
    </div>
    <div class="field">
        <span class="field__label">Firmware Version</span>
        <span class="field__value">@Model.FirmwareVersion</span>
    </div>

    <div class="sensors">

        @foreach (var sensorReading in Model.SensorReadings.OrderBy(sr => sr.ReadingDateTime))
        {
            <div class="field">
                <span class="field__label">Temperature in Celcius</span>
                <span class="field__value">@sensorReading.TemperatureCelcius</span>
            </div>
            <div class="field">
                <span class="field__label">Humidity Level Percentage</span>
                <span class="field__value">@sensorReading.HumidityPercentage</span>
            </div>
            <div class="field">
                <span class="field__label">Carbon Monoxide Level in PPM</span>
                <span class="field__value">@sensorReading.CarbonMonoxideLevel</span>
            </div>
        }

        <pre>{{devices}}</pre>

    </div>

    <button class="btn btn-primary" type="button" data-toggle="collapse" href="#sensorHealth" role="button" aria-expanded="false" aria-controls="sensorHealth">
        Sensor Health Details
    </button>

    <div class="collapse" id="sensorHealth">
        <div class="card card-body">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Date of Reading</th>
                        <th>Device Health</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var sensorReading in Model.SensorReadings)
                    {
                        <tr>
                            <td>@sensorReading.ReadingDateTime</td>
                            <td>@sensorReading.DeviceHealth</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>